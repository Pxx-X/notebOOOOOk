<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Tools - notebOOOOOOk</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Tools";
        var mkdocs_page_input_path = "Tools.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> notebOOOOOOk
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">EDA</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../EDA4PR/">EDA4PR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../EDA4PR-Analog/">EDA4PR-Analog</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../EDA4PR-Digtal/">EDA4PR-Digtal</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../EDA4PR-LCM/">EDA4PR-LCM</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../flow/">Flow</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tools</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../Algorithms/">Algorithms</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Hardware/">Hardware</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OS/">OS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Program/">Program</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Tools</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#vscode">vscode</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#ssh">通过ssh连接服务器</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#remote_ssh-server">离线安装remote_ssh server</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#win2linux">免密登录（win2linux）</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#copilot">Copilot</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#buglist">buglist</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#cpptools-srv-core">cpptools-srv 疯狂生成core* 崩溃文件</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#codex-cli">Codex CLI</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#tutorial">tutorial</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_1">恢复对话</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#agentsmd">AGENTS.md</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#install">install</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#gemini">Gemini</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#ref">Ref</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#conda">conda</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_2">基本命令</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_3">环境配置</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_4">环境迁移</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_5">常见问题</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cuda-cuda-toolkit-cudnn">cuda 驱动，cuda-toolkit, cudnn</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_6">环境配置</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#wsl-cuda">安装 WSL Cuda 驱动</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#cudatoolkit">cudatoolkit</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#cudnn">cudnn</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_7">重装</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#pytorch-dgl-pyg">pytorch, dgl, PyG</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#docker">docker</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#dockerfile">使用 dockerfile</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#dockerfile_1">dockerfile</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#container-cdebug">container 内的C++项目debug</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_8">参考</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#centos">centos 容器无法联网问题</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#vscode-docker">修改vscode docker容器内终端没有颜色</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#install_1">install</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#git">Git</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#gerrit-git">Gerrit-Git</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#base">base</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#branch">branch</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#gitignore">.gitignore</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#check">check</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#commit-and-push">commit and push</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#clone-pull">clone &amp; pull</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#git-clone">git clone</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#git-pull">git pull</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#connect-to-remote">Connect to Remote</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pull">pull</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_9">分支管理</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_10">参考</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ssh_1">ssh 设置密钥</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#auto-upload-project-to-github">auto upload project to github</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#reference">reference</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#latex">Latex</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#latex-in-vscode">latex in vscode</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ppt">ppt</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#taskflow">taskflow</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#introduction">introduction</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#project-motivation">Project Motivation</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#command">command</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_11">编译</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#module">module</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#taskflow_1">Taskflow</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#task">Task</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#executor">Executor</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#future">Future</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#cudaflow">cudaFlow</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#cudastream">cudaStream</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#subflow">Subflow</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#runtime">Runtime</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#semaphore">Semaphore</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#install_2">install</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_13">参考</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_14">代理</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#hugomkdoc">Hugo/mkdoc</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_15">参考</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#jira">Jira</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Other</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../Literature/">Good Things</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">notebOOOOOOk</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Tools</li>
      <li class="breadcrumb-item active">Tools</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="tools">Tools<a class="headerlink" href="#tools" title="Permanent link">&para;</a></h1>
<h2 id="vscode">vscode<a class="headerlink" href="#vscode" title="Permanent link">&para;</a></h2>
<h3 id="ssh">通过ssh连接服务器<a class="headerlink" href="#ssh" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>下载<code>vscode</code></p>
</li>
<li>
<p>安装插件<code>Remote - SSH</code></p>
</li>
</ol>
<p><img alt="image-20250416170745316" src="../assets/image-20250416170745316.png" /></p>
<ol>
<li>点击<code>vscode</code>左下角绿色标记</li>
</ol>
<p><img alt="image-20250416170838646" src="../assets/image-20250416170838646.png" /></p>
<ol>
<li>点击<code>Connect to Host</code></li>
</ol>
<p><img alt="image-20250416170924455" src="../assets/image-20250416170924455.png" /></p>
<ol>
<li>输入对应的服务器<code>ip</code>和<code>密码</code></li>
</ol>
<p>第一次登陆后，会有一个config 文件在<code>C:\Users\your_user_name\.ssh\config</code></p>
<div class="highlight"><pre><span></span><code>Host<span class="w"> </span>server_name#<span class="o">(</span>default:<span class="w"> </span>ip<span class="o">)</span>
<span class="w">  </span>HostName<span class="w"> </span>server_ip<span class="w"> </span><span class="c1">#xxx.xxx.xxx.xxx</span>
<span class="w">  </span>Port<span class="w"> </span><span class="m">22</span>
<span class="w">  </span>User<span class="w"> </span>your_user_name
<span class="w">  </span>ForwardX11<span class="w"> </span>yes<span class="w"> </span><span class="c1">#用来可视化</span>
</code></pre></div>
<h3 id="remote_ssh-server">离线安装remote_ssh server<a class="headerlink" href="#remote_ssh-server" title="Permanent link">&para;</a></h3>
<p>https://blog.csdn.net/qq_43623902/article/details/136258880</p>
<h3 id="win2linux">免密登录（win2linux）<a class="headerlink" href="#win2linux" title="Permanent link">&para;</a></h3>
<p><img alt="image-20250825142256493" src="../assets/image-20250825142256493.png" /></p>
<h3 id="copilot">Copilot<a class="headerlink" href="#copilot" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://code.visualstudio.com/docs/copilot/getting-started?originUrl=%2Fdocs%2Fcopilot%2Fsetup#_create-custom-instructions">use rules</a></li>
</ul>
<p><a href="https://code.visualstudio.com/docs/copilot/customization/custom-instructions?originUrl=%2Fdocs%2Fcopilot%2Fchat%2Fcopilot-chat-context#_type-of-instructions-files">instruction files</a></p>
<p><a href="https://code.visualstudio.com/docs/copilot/customization/custom-instructions?originUrl=%2Fdocs%2Fcopilot%2Fchat%2Fcopilot-chat-context#_tips-for-defining-custom-instructions">Tips for defining custom instructions</a></p>
<ul>
<li>Keep your instructions short and self-contained. Each instruction should be a single, simple statement. If you need to provide multiple pieces of information, use multiple instructions.</li>
<li>For task or language-specific instructions, use multiple <code>*.instructions.md</code> files per topic and apply them selectively by using the <code>applyTo</code> property.</li>
<li>Store project-specific instructions in your workspace to share them with other team members and include them in your version control.</li>
<li>
<p>Reuse and reference instructions files in your <a href="https://code.visualstudio.com/docs/copilot/customization/prompt-files">prompt files</a> and <a href="https://code.visualstudio.com/docs/copilot/customization/custom-chat-modes">chat modes</a> to keep them clean and focused, and to avoid duplicating instructions.</p>
</li>
<li>
<p><a href="https://code.visualstudio.com/docs/copilot/customization/prompt-files?originUrl=%2Fdocs%2Fcopilot%2Fcustomization%2Fcustom-instructions">prompt files</a></p>
</li>
<li>
<p><a href="https://code.visualstudio.com/docs/copilot/getting-started?originUrl=%2Fdocs%2Fcopilot%2Fsetup#_create-a-custom-chat-mode-for-code-reviews">chat mode</a></p>
</li>
<li>
<p><a href="https://github.com/github/awesome-copilot/tree/main">awesome-copilot</a></p>
</li>
<li>
<p><a href="https://code.visualstudio.com/docs/copilot/customization/mcp-servers?originUrl=%2Fdocs%2Fcopilot%2Fcustomization%2Flanguage-models">MCP</a></p>
</li>
<li>
<p><a href="https://code.visualstudio.com/docs/copilot/chat/copilot-chat-context?originUrl=%2Fdocs%2Fcopilot%2Fchat%2Fcopilot-chat#_hashmentions">#-mentions</a></p>
</li>
</ul>
<p>Instead of adding individual files manually, you can let VS Code find the right files from your codebase automatically. This can be useful when you don't know which files are relevant to your question.</p>
<blockquote>
<p>Make sure to enable the <a href="vscode://settings/github.copilot.chat.codesearch.enabled">github.copilot.chat.codesearch.enabled</a> <em>(preview)</em> setting to get the best results</p>
</blockquote>
<ul>
<li><a href="https://code.visualstudio.com/docs/copilot/chat/copilot-chat-context?originUrl=%2Fdocs%2Fcopilot%2Fchat%2Fcopilot-chat#_atmentions">@-mentions</a></li>
</ul>
<p>Chat participants are specialized assistants that enable you to ask domain-specific questions in chat. Imagine a chat participant as a domain expert to whom you hand off your chat request and it takes care of the rest.</p>
<ul>
<li>
<p><a href="https://code.visualstudio.com/docs/copilot/chat/copilot-chat-context?originUrl=%2Fdocs%2Fcopilot%2Fchat%2Fcopilot-chat#_workspace-indexing">Workspace indexing</a></p>
</li>
<li>
<p><a href="https://code.visualstudio.com/docs/copilot/chat/chat-agent-mode?originUrl=%2Fdocs%2Fcopilot%2Fchat%2Fcopilot-edits#_agent-mode-tools">Agent tools</a></p>
</li>
<li></li>
</ul>
<h3 id="buglist">buglist<a class="headerlink" href="#buglist" title="Permanent link">&para;</a></h3>
<h4 id="cpptools-srv-core"><a href="https://github.com/microsoft/vscode-cpptools/issues/12956#top">cpptools-srv</a> 疯狂生成core* 崩溃文件<a class="headerlink" href="#cpptools-srv-core" title="Permanent link">&para;</a></h4>
<p>安装新的cpp插件</p>
<h2 id="codex-cli">Codex CLI<a class="headerlink" href="#codex-cli" title="Permanent link">&para;</a></h2>
<h4 id="tutorial">tutorial<a class="headerlink" href="#tutorial" title="Permanent link">&para;</a></h4>
<p>在 <code>~/.codex/config.toml</code> 文件中进行基础配置：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 模型配置</span>
<span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;codex-1&quot;</span>
<span class="c1">#model = &quot;gpt-5-codex&quot;                      # Codex 0.36.0+ 支持</span>
<span class="n">model_reasoning_effort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;high&quot;</span><span class="w">            </span><span class="c1"># 使用最大推理能力</span>
<span class="n">model_reasoning_summary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;detailed&quot;</span><span class="w">       </span><span class="c1"># 终端显示详细推理总结 (Ctrl+T查看)</span>
<span class="n">model_verbosity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;high&quot;</span><span class="w">                   </span><span class="c1"># 高详细度输出</span>
<span class="n">model_supports_reasoning_summaries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c1"># 强制启用推理总结</span>

<span class="c1"># 代理配置</span>
<span class="n">hide_agent_reasoning</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w">               </span><span class="c1"># 显示 Agent 内部思考过程</span>

<span class="c1"># 隐私配置</span>
<span class="n">disable_response_storage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">            </span><span class="c1"># 禁止 OpenAI 存储对话数据</span>

<span class="c1"># 权限配置 (建议通过 /approvals 命令配置)</span>
<span class="n">approval_policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;never&quot;</span><span class="w">                  </span>
<span class="n">sandbox_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;workspace-write&quot;</span><span class="w">           </span>

<span class="c1"># 网络访问配置</span>
<span class="k">[sandbox_workspace_write]</span>
<span class="n">network_access</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">                      </span><span class="c1"># 允许网络访问</span>
</code></pre></div>
<h5 id="_1">恢复对话<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h5>
<p>Codex 的对话历史保存在本地目录 <code>~/.codex/sessions</code> 下：</p>
<p><strong>选择恢复对话：</strong></p>
<div class="highlight"><pre><span></span><code>codex --resume    # 显示最近对话列表，手动选择
</code></pre></div>
<p><strong>直接继续上次对话：</strong></p>
<div class="highlight"><pre><span></span><code>codex --continue  # 无需选择，自动继续上次对话
</code></pre></div>
<hr />
<h5 id="agentsmd"><strong><a href="http://agents.md/">AGENTS.md</a></strong><a class="headerlink" href="#agentsmd" title="Permanent link">&para;</a></h5>
<p>Codex 支持 <strong>层级化的 <a href="http://AGENTS.md">AGENTS.md</a> 配置</strong>，在不同目录层级定义不同规则：</p>
<div class="highlight"><pre><span></span><code>project-root/
├── AGENTS.md              # 全局规则（最低优先级）
├── src/
│   ├── AGENTS.md          # 源码目录规则
│   ├── components/
│   │   └── AGENTS.md      # 组件特定规则
│   └── tests/
│       └── AGENTS.md      # 测试特定规则（最高优先级）
</code></pre></div>
<p>重要技巧</p>
<p>每次修改 <code>AGENTS.md</code> 后，使用 <code>Ctrl+T</code> 查看 Codex 的思考过程，验证：</p>
<ul>
<li>是否正确读取了 <a href="http://agents.md/">AGENTS.md</a> 规则</li>
<li>命令调用是否符合预期</li>
<li>是否还有需要补充的规则</li>
</ul>
<h4 id="install">install<a class="headerlink" href="#install" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://cccignore.github.io/2025/06/21/远程 SSH 使用 Codex：转发本地 Clash 代理到服务器/index.html">远程 SSH 使用 Codex：转发本地 Clash 代理到服务器 | Welcome to Enoch's Blog!</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/1964064988537808306">(67 封私信 / 80 条消息) 解决Codex插件在Remote SSH中的登录403报错问题 - 知乎</a></li>
</ul>
<h2 id="gemini">Gemini<a class="headerlink" href="#gemini" title="Permanent link">&para;</a></h2>
<h3 id="ref">Ref<a class="headerlink" href="#ref" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://linux.do/t/topic/752327">在remote ssh上登录gemini cli的临时解决方案 - 搞七捻三 - LINUX DO</a></li>
</ul>
<blockquote>
<p>通过复制本地的<code>.gemini</code>到远端也可以</p>
</blockquote>
<ul>
<li></li>
</ul>
<h2 id="conda">conda<a class="headerlink" href="#conda" title="Permanent link">&para;</a></h2>
<h3 id="_2">基本命令<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>conda不止是能创建python相关的环境，还可以是cpp的环境等！</p>
<p><code>conda install -c conda-forge gcc gxx cmake make ninja</code></p>
<div class="highlight"><pre><span></span><code>conda<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>myenv<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.8
conda<span class="w"> </span>activate<span class="w"> </span>myenv
conda<span class="w"> </span>deactivate
conda<span class="w"> </span>list<span class="w">  </span><span class="c1">#命令来查看当前环境中安装的包。</span>
conda<span class="w"> </span>env<span class="w"> </span>remove<span class="w"> </span>--name<span class="w"> </span>myenv<span class="w">   </span><span class="c1">#删除</span>
conda<span class="w"> </span>info<span class="w"> </span>--envs<span class="w">   </span><span class="c1">#查找所有虚拟环</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>conda<span class="w"> </span>install<span class="w"> </span><span class="o">[</span>package-name<span class="o">]</span><span class="w">        </span><span class="c1"># 安装名为[package-name]的包</span>
conda<span class="w"> </span>install<span class="w"> </span><span class="o">[</span>package-name<span class="o">]=</span>X.X<span class="w">    </span><span class="c1"># 安装名为[package-name]的包并指定版本X.X</span>
conda<span class="w"> </span>update<span class="w"> </span><span class="o">[</span>package-name<span class="o">]</span><span class="w">         </span><span class="c1"># 更新名为[package-name]的包</span>
conda<span class="w"> </span>remove<span class="w"> </span><span class="o">[</span>package-name<span class="o">]</span><span class="w">         </span><span class="c1"># 删除名为[package-name]的包</span>
conda<span class="w"> </span>list<span class="w">                          </span><span class="c1"># 列出当前环境下已安装的所有包</span>
conda<span class="w"> </span>search<span class="w"> </span><span class="o">[</span>package-name<span class="o">]</span><span class="w">         </span><span class="c1"># 列出名为[package-name]的包在conda源中的所有可用版本</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>conda<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span><span class="o">[</span>env-name<span class="o">]</span><span class="w">      </span><span class="c1"># 建立名为[env-name]的Conda虚拟环境</span>
conda<span class="w"> </span>activate<span class="w"> </span><span class="o">[</span>env-name<span class="o">]</span><span class="w">           </span><span class="c1"># 进入名为[env-name]的Conda虚拟环境</span>
conda<span class="w"> </span>deactivate<span class="w">                    </span><span class="c1"># 退出当前的Conda虚拟环境</span>
conda<span class="w"> </span>env<span class="w"> </span>remove<span class="w"> </span>--name<span class="w"> </span><span class="o">[</span>env-name<span class="o">]</span><span class="w">  </span><span class="c1"># 删除名为[env-name]的Conda虚拟环境</span>
conda<span class="w"> </span>env<span class="w"> </span>list<span class="w">                      </span><span class="c1"># 列出所有Conda虚拟环境</span>
</code></pre></div>
<h3 id="_3">环境配置<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://repo.anaconda.com/miniconda/Miniconda3-py38_23.5.2-0-Linux-x86_64.sh
bash<span class="w"> </span>Miniconda3-py38_23.5.2-0-Linux-x86_64.sh
</code></pre></div>
<p>安装以后要重启才能生效！</p>
<h3 id="_4">环境迁移<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://blog.csdn.net/baidu_35692628/article/details/136519579">【conda】实现conda环境迁移的4种方式-CSDN博客</a></li>
<li><a href="https://blog.csdn.net/ds1302__/article/details/120027173">使用conda pack进行环境迁移（步骤很详细）-CSDN博客</a></li>
</ul>
<h3 id="_5">常见问题<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>安装以后要重启才能生效！</p>
</li>
<li>
<p>pycharm 无法添加 conda 环境时无法找到对应环境的 python.exe 文件 <img alt="image-20240905112153852" src="C:\Users\Pxmmmm.DESKTOP-G18CTQU\AppData\Roaming\Typora\typora-user-images\image-20240905112153852.png" /></p>
</li>
</ul>
<blockquote>
<p>Conda Executable 是 conda 的执行文件，不是填环境的 python 解释器 0.0</p>
<p>看错两次了</p>
</blockquote>
<h2 id="cuda-cuda-toolkit-cudnn">cuda 驱动，cuda-toolkit, cudnn<a class="headerlink" href="#cuda-cuda-toolkit-cudnn" title="Permanent link">&para;</a></h2>
<h3 id="_6">环境配置<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p><a href="https://blog.csdn.net/iwanvan/article/details/122119595">Windows 11/10 WSL2 Ubuntu 20.04 下配置 Cuda 及 Pytorch_win11 的 cuda 和 ubuntu 对比-CSDN 博客</a></p>
<h4 id="wsl-cuda">安装 WSL Cuda 驱动<a class="headerlink" href="#wsl-cuda" title="Permanent link">&para;</a></h4>
<h4 id="cudatoolkit">cudatoolkit<a class="headerlink" href="#cudatoolkit" title="Permanent link">&para;</a></h4>
<p><a href="https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64">CUDA Toolkit 12.6 Update 1 Downloads | NVIDIA Developer</a></p>
<p><img alt="image-20240910154615669" src="C:\Users\Pxmmmm\AppData\Roaming\Typora\typora-user-images\image-20240910154615669.png" /></p>
<h4 id="cudnn">cudnn<a class="headerlink" href="#cudnn" title="Permanent link">&para;</a></h4>
<p><a href="https://developer.nvidia.com/rdp/cudnn-archive">cuDNN Archive | NVIDIA Developer</a></p>
<h3 id="_7">重装<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p><a href="https://zhuanlan.zhihu.com/p/520536351">CUDA 的正确安装/升级/重装/使用方式 - 知乎 (zhihu.com)</a></p>
<h2 id="pytorch-dgl-pyg">pytorch, dgl, PyG<a class="headerlink" href="#pytorch-dgl-pyg" title="Permanent link">&para;</a></h2>
<p><a href="https://pytorch.org/">PyTorch</a></p>
<p><a href="https://www.dgl.ai/pages/start.html">Deep Graph Library (dgl.ai)</a></p>
<p><a href="https://pytorch-geometric.readthedocs.io/en/latest/notes/installation.html">PyG</a></p>
<div class="highlight"><pre><span></span><code>conda<span class="w"> </span>install<span class="w"> </span>pytorch<span class="w"> </span>torchvision<span class="w"> </span>torchaudio<span class="w"> </span>pytorch-cuda<span class="o">=</span><span class="m">12</span>.4<span class="w"> </span>-c<span class="w"> </span>pytorch<span class="w"> </span>-c<span class="w"> </span>nvidia
conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>dglteam/label/th24_cu124<span class="w"> </span>dgl
conda<span class="w"> </span>install<span class="w"> </span>pyg<span class="w"> </span>-c<span class="w"> </span>pyg
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">#test</span>
<span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;import torch; print(torch.cuda.is_available())&quot;</span>
<span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;import torch; print(torch.version.cuda)&quot;</span>
</code></pre></div>
<h2 id="docker">docker<a class="headerlink" href="#docker" title="Permanent link">&para;</a></h2>
<h3 id="dockerfile">使用 dockerfile<a class="headerlink" href="#dockerfile" title="Permanent link">&para;</a></h3>
<h4 id="dockerfile_1">dockerfile<a class="headerlink" href="#dockerfile_1" title="Permanent link">&para;</a></h4>
<p>Dockerfile 是一个文本文件，包含一系列指令来组装 <a href="https://so.csdn.net/so/search?q=Docker 镜像&amp;spm=1001.2101.3001.7020">Docker 镜像</a>。每个指令执行一个特定动作，例如安装包、复制文件或定义启动命令。</p>
<p><img alt="image-20241116203451094" src="../assets/image-20241116203451094.png" /></p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>pull<span class="w"> </span>ubuntu:20.04<span class="w"> </span><span class="c1">#下一个镜像</span>
docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>ubuntu:22.04<span class="w"> </span>nproc#安装，并查看cpu核心数
docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>ubuntu:22.04<span class="w"> </span>bash<span class="w"> </span><span class="c1">#进入交互模式,这种情况在能用、</span>
docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>my_centos7<span class="w"> </span>-v<span class="w"> </span>/path/on/host:/path/in/container<span class="w"> </span>centos:7#如果需要将数据保存到宿主机上，可以挂载一个目录，<span class="w"> </span>同时指定名字，<span class="w"> </span>注意exit退出容器后容器还会存在，使用docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span>才能看到
docker<span class="w"> </span>start<span class="w"> </span>&lt;container_name&gt;<span class="w"> </span><span class="c1">#重新启动暂停的容器</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>&lt;container_name&gt;<span class="w"> </span>bash<span class="w"> </span><span class="c1">#重新进入容器</span>

apt<span class="w"> </span>install,<span class="w"> </span>注意update
docker<span class="w"> </span>ps<span class="w"> </span><span class="c1">#查看运行的容器</span>
docker<span class="w"> </span>ps<span class="w"> </span>-a#查看运行的容器,包括暂停的
<span class="c1">#docker下 的gui显示也可以安装通过设置DISPLAY环境变量来处理</span>
docker<span class="w"> </span>commit<span class="w"> </span>&lt;容器ID或名称&gt;<span class="w"> </span>&lt;镜像名称&gt;:&lt;标签&gt;<span class="w"> </span><span class="c1">#保存容器为镜像</span>
docker<span class="w"> </span>images<span class="w"> </span><span class="c1">#查看保存的镜像</span>
docker<span class="w"> </span>rm<span class="w"> </span>&lt;container_name&gt;#删除容器
docker<span class="w"> </span>rmi<span class="w"> </span>-f<span class="w"> </span>&lt;镜像ID或名称&gt;<span class="w"> </span><span class="c1">#删除镜像</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>my_container<span class="w"> </span>bash<span class="w"> </span><span class="c1">#对同一个docker容器开启多个终端</span>
docker<span class="w"> </span>run<span class="w"> </span>-v<span class="w"> </span>&lt;主机目录&gt;:&lt;镜像目录&gt;<span class="w"> </span>-it<span class="w"> </span>&lt;镜像名称&gt;:&lt;标签&gt;<span class="w"> </span>bash<span class="w"> </span><span class="c1">#挂载</span>
docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--gpus<span class="w"> </span>all<span class="w"> </span>my_cugr_image<span class="w"> </span><span class="c1">#启用所有GPU</span>
</code></pre></div>
<h3 id="container-cdebug">container 内的C++项目debug<a class="headerlink" href="#container-cdebug" title="Permanent link">&para;</a></h3>
<p>linux下vscode支持的调试器为gdb</p>
<ol>
<li>
<p>安装vs code 插件： Dev Container</p>
</li>
<li>
<p>安装gdb:<code>apt-get install build-essential gdb</code></p>
</li>
<li>
<p>运行：Attach to Running Container</p>
</li>
</ol>
<p><img alt="image-20241125165934766" src="../assets/image-20241125165934766.png" /></p>
<ol>
<li>
<p>在vscode中打开工程目录，并添加launch文件</p>
</li>
<li>
<p>用g++或者用task.json生成binary可执行文件，注意编译的时候<strong>加上-g</strong>，-g意思就是编译出带调试信息的可执行文件，如果少了这个-g，生成的可执行文件就不能够调试了</p>
</li>
<li>
<p>然后点三角形就行。</p>
</li>
</ol>
<h5 id="_8">参考<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h5>
<ul>
<li><a href="https://blog.csdn.net/xianxjm/article/details/112250699">VSCode调试docker中的程序(C++) 和离线安装VSCode插件的方法_vs code docker插件dev container下载-CSDN博客</a></li>
<li>launch.json官方教程https://go.microsoft.com/fwlink/?linkid=830387</li>
<li>launch.json教程<a href="https://blog.csdn.net/qq_59084325/article/details/125662393">VScode 调试教程 tasks.json和launch.json的设置（超详细）-CSDN博客</a></li>
<li></li>
</ul>
<h3 id="centos">centos 容器无法联网问题<a class="headerlink" href="#centos" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Could not retrieve mirrorlist http://mirrorlist.centos.org/?release=7&amp;arch=x86_64&amp;repo=os&amp;infra=container error was
14: curl#6 - "Could not resolve host: mirrorlist.centos.org; Unknown error"</p>
</blockquote>
<div class="highlight"><pre><span></span><code>#还是不行。。。
</code></pre></div>
<h3 id="vscode-docker">修改vscode docker容器内终端没有颜色<a class="headerlink" href="#vscode-docker" title="Permanent link">&para;</a></h3>
<p><img alt="image-20241130203639869" src="../assets/image-20241130203639869.png" /></p>
<p><a href="https://blog.csdn.net/weixin_45277161/article/details/130883635">自定义优化VsCode终端样式（提示高亮）_vscode终端颜色设置-CSDN博客</a></p>
<h3 id="install_1">install<a class="headerlink" href="#install_1" title="Permanent link">&para;</a></h3>
<p><a href="https://blog.csdn.net/breakaway_01/article/details/141285685">Ubuntu 安装 Docker_ubuntu 重新安装 docker-CSDN 博客</a></p>
<h2 id="git">Git<a class="headerlink" href="#git" title="Permanent link">&para;</a></h2>
<h3 id="gerrit-git">Gerrit-Git<a class="headerlink" href="#gerrit-git" title="Permanent link">&para;</a></h3>
<p><a href="https://cloud.italent.cn/PageHome/Index?product=Learning&amp;keyName=Nusion&amp;pageCode=LearningPlanDetailPage&amp;appCode=Learning&amp;id=e88cc4a6-2dc1-4df0-b284-40890ad35dfb&amp;_qsrcapp=Learning&amp;_qrt=html&amp;quark_s=92885ba2bcb8c01354166887f7d1ce2dd3555ef5a4e3a3754f9b5e18dcf584c1#/viewDynamic?t=t&amp;quark_s=bd841178dfbc1b9adb121eeadd71bfd241cc74cd78cfa6e159950402224c9010">公司教程</a></p>
<h3 id="base">base<a class="headerlink" href="#base" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>全局配置文件：~/.gitconfig</p>
</li>
<li>
<p>当前仓库配置文件：.git/config</p>
</li>
<li>
<p>to set git user:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="w">     </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;你的名字&quot;</span>
<span class="w">     </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span><span class="s2">&quot;你的邮箱&quot;</span>
</code></pre></div>
<h3 id="branch">branch<a class="headerlink" href="#branch" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>git config --global init.defaultBranch &lt;name&gt; # change init branch name
git branch -m &lt;name&gt; #change the just-created branch
</code></pre></div>
<h3 id="gitignore">.gitignore<a class="headerlink" href="#gitignore" title="Permanent link">&para;</a></h3>
<h3 id="check">check<a class="headerlink" href="#check" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>git status</code></p>
</li>
<li>
<p><code>git status --short</code></p>
</li>
<li>
<p><code>git branch -r</code> 指令可以查看远程仓库中的所有分支</p>
</li>
<li>
<p><code>git branch -a</code> 指令用于显示本地和远端的所有分支</p>
</li>
<li>
<p><code>git branch -vv</code> 指令显示本地分支与远端分支的追踪关系。</p>
</li>
<li>
<p>查看差异</p>
</li>
</ul>
<p>在 Git 中比较本地内容与上次提交的差异是日常开发中的高频操作。你可以根据文件是否已被添加到暂存区（<code>git add</code>），选择不同的命令。下面这个表格能帮你快速看清它们之间的关系和区别。</p>
<table>
<thead>
<tr>
<th style="text-align: left;">比较范围</th>
<th style="text-align: left;">Git 命令</th>
<th style="text-align: left;">适用场景（提交前）</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>工作区</strong> ↔ <strong>上次提交</strong> (HEAD)</td>
<td style="text-align: left;"><code>git diff HEAD</code></td>
<td style="text-align: left;">查看所有已修改但<strong>未提交</strong>的变更（包括未暂存和已暂存的）。这是最全面的预览。</td>
</tr>
<tr>
<td style="text-align: left;"><strong>工作区</strong> ↔ <strong>暂存区</strong></td>
<td style="text-align: left;"><code>git diff</code></td>
<td style="text-align: left;">查看已修改但<strong>未使用 <code>git add</code>暂存</strong>的变更。</td>
</tr>
<tr>
<td style="text-align: left;"><strong>暂存区</strong> ↔ <strong>上次提交</strong> (HEAD)</td>
<td style="text-align: left;"><code>git diff --cached</code>或 <code>git diff --staged</code></td>
<td style="text-align: left;">查看已使用 <code>git add</code>暂存，但<strong>未提交</strong>的变更。</td>
</tr>
</tbody>
</table>
<ul>
<li></li>
</ul>
<h3 id="commit-and-push">commit and push<a class="headerlink" href="#commit-and-push" title="Permanent link">&para;</a></h3>
<p>In VS Code, go to the Source Control view (left sidebar, Git icon). You’ll see the untracked files.
  - Click + (stage) on files or use the terminal: <code>git add .</code>
  - if u <code>add</code> some files you don't want to <code>add</code>, you can change your <code>.gitignore</code>, then use <code>git reset</code>
      <code>git rm -r --cached .</code>
  - <code>git commit -m "…"</code></p>
<h3 id="clone-pull">clone &amp; pull<a class="headerlink" href="#clone-pull" title="Permanent link">&para;</a></h3>
<p>https://blog.csdn.net/Lakers2015/article/details/111871196</p>
<h4 id="git-clone">git clone<a class="headerlink" href="#git-clone" title="Permanent link">&para;</a></h4>
<p>从远程服务器克隆一个一模一样的版本库到本地,复制的是整个版本库，叫做<code>git clone</code>。简单讲，<code>git clone</code>就是将一个库复制到本地，<strong>是一个本地从无到有的过程</strong>。包括里面的日志信息，git项目里的分支，你也可以直接切换、使用里面的分支等等。</p>
<h4 id="git-pull">git pull<a class="headerlink" href="#git-pull" title="Permanent link">&para;</a></h4>
<p>从远程服务器获取到一个branch分支的更新到本地，并更新本地库，叫做git pull.（pull是指同步一个你在本地有版本的库内容更新的部分到你的本地库）。</p>
<p>git pull 作用是，<mark>取回远程主机某个分支的更新</mark>，再与本地的指定分支合并。它的书写格式如下</p>
<p><code>$ git pull #远程主机(origin)# #远程分支(next)#：#本地分支(master)#</code></p>
<p>如果远程分支是与当前分支合并，则冒号后面的部分可以省略。</p>
<p><code>$ git pull #远程主机(origin)# #远程分支(next)#</code></p>
<p>该命令相当于 <code>git fetch origin</code> + <code>git merge origin/next</code></p>
<blockquote>
<p>[!WARNING]</p>
<p>每次从本地仓库<code>push</code>到远程仓库之前都要先进行<code>git pull</code>操作，保证push到远程仓库时没有版本冲突。</p>
</blockquote>
<h3 id="connect-to-remote">Connect to Remote<a class="headerlink" href="#connect-to-remote" title="Permanent link">&para;</a></h3>
<ol>
<li><mark>Create a repository</mark> on GitHub/Gitee/etc. (<mark>without initializing</mark> it with files if you already have local content).</li>
<li>Copy its HTTPS or SSH URL.</li>
<li>Back in VS Code terminal:<ul>
<li><code>git remote add origin &lt;remote-url&gt;</code></li>
<li><code>git branch -M main</code> (if you want main instead of master)</li>
<li><code>git push -u origin &lt;branch_name&gt;</code></li>
</ul>
</li>
</ol>
<h3 id="pull">pull<a class="headerlink" href="#pull" title="Permanent link">&para;</a></h3>
<h3 id="_9">分支管理<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>git checkout -b &lt;new_branch_name&gt; origin/&lt;new_branch_name&gt;</code>指令创建一个 <code>new_branch_name</code> 分支并切换到 <code>new_branch_name</code> 分支上，并建立远端<code>new_branch_name</code>分支的追踪关系</p>
</li>
<li>
<p>如果其他开发者push了，那么我们push的时候可能发生冲突：</p>
</li>
</ul>
<p><img alt="image-20251127200036610" src="../assets/image-20251127200036610.png" /></p>
<ul>
<li></li>
</ul>
<h3 id="_10">参考<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://blog.csdn.net/whc18858/article/details/133209975">如何使用 Git 进行多人协作开发（全流程图解）_git多人协作开发流程-CSDN博客</a></li>
</ul>
<h3 id="ssh_1">ssh 设置密钥<a class="headerlink" href="#ssh_1" title="Permanent link">&para;</a></h3>
<blockquote>
<p>fatal: unable to access 'https://github.com/xx/xxx.git/': GnuTLS recv error (-110): The TLS connection was non-properly terminated.</p>
</blockquote>
<p><img alt="image-20250611222436757" src="../assets/image-20250611222436757.png" /></p>
<p><img alt="image-20250611222458875" src="../assets/image-20250611222458875.png" /></p>
<p><img alt="image-20250611222507471" src="../assets/image-20250611222507471.png" /></p>
<h3 id="auto-upload-project-to-github">auto upload project to github<a class="headerlink" href="#auto-upload-project-to-github" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>new repo in web</p>
</li>
<li>
<p>init repo</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;# HarmonyOS-Health-app&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>README.md
git<span class="w"> </span>init<span class="w">                          </span>//初始化
git<span class="w"> </span>add<span class="w"> </span>README.md<span class="w">                </span>
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;first commit&quot;</span><span class="w">       </span>
git<span class="w"> </span>branch<span class="w"> </span>-M<span class="w"> </span>main<span class="w">                </span>//确定为main分支,<span class="w"> </span>老版本默认是master
git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>https://github.com/lion-kng/HarmonyOS-Health-app.git<span class="w">    </span>//关联github与本地代码，这一步最重要！！！
git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>main<span class="w">            </span>//上传代码
</code></pre></div>
<blockquote>
<p>remember to set git user</p>
</blockquote>
<h4 id="reference">reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://blog.csdn.net/2203_75380431/article/details/147686301">vscode上传代码到github_vscode上传github-CSDN博客</a>`</li>
</ul>
<h2 id="latex">Latex<a class="headerlink" href="#latex" title="Permanent link">&para;</a></h2>
<h3 id="latex-in-vscode">latex in vscode<a class="headerlink" href="#latex-in-vscode" title="Permanent link">&para;</a></h3>
<p><a href="https://github.com/mengchaoheng/SCUT_thesis">华工课程论文和毕设Latex模板</a></p>
<p>教程：</p>
<ul>
<li>
<p><a href="https://zhuanlan.zhihu.com/p/624932249">texlive2023+vscode安装与配置（简洁版） - 知乎</a></p>
</li>
<li>
<p><a href="https://zhuanlan.zhihu.com/p/166523064">Visual Studio Code (vscode)配置LaTeX - 知乎</a></p>
</li>
</ul>
<p>LaTeX 配置（放到 <code>settings.json</code>)</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="c1">//------------------------------LaTeX 配置----------------------------------</span>
<span class="w">      </span><span class="c1">// 设置是否自动编译</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.latex.autoBuild.run&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;onSave&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="c1">//右键菜单</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.showContextMenu&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="c1">//从使用的包中自动补全命令和环境</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.intellisense.package.enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="c1">//编译出错时设置是否弹出气泡设置</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.message.error.show&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.message.warning.show&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="c1">// 编译工具和命令</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.latex.tools&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xelatex&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xelatex&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;-synctex=1&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-interaction=nonstopmode&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-file-line-error&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;%DOCFILE%&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdflatex&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdflatex&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;-synctex=1&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-interaction=nonstopmode&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-file-line-error&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;%DOCFILE%&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;latexmk&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;latexmk&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;-synctex=1&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-interaction=nonstopmode&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-file-line-error&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-pdf&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-outdir=%OUTDIR%&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;%DOC%&quot;</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">              </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;lualatex&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;lualatex&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;-synctex=1&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-interaction=nonstopmode&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-file-line-error&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;-shell-escape&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">//这个命令行在网上的Latex Workshop设置里一般没有，所以直接recipe会报错</span>
<span class="w">                  </span><span class="s2">&quot;%DOCFILE%&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bibtex&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bibtex&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;%DOCFILE%&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;biber&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;biber&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;%DOCFILE%&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="c1">// 用于配置编译链</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.latex.recipes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;XeLaTeX&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;tools&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;xelatex&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PDFLaTeX&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;tools&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;pdflatex&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span>

<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xelatex -&gt; bibtex -&gt; xelatex*2&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;tools&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;xelatex&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;bibtex&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;xelatex&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;xelatex&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xelatex -&gt; biber -&gt; xelatex*2&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;tools&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;xelatex&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;biber&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;xelatex&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;xelatex&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdflatex -&gt; bibtex -&gt; pdflatex*2&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;tools&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;pdflatex&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;bibtex&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;pdflatex&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;pdflatex&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span>

<span class="w">      </span><span class="p">],</span>

<span class="w">      </span><span class="c1">//文件清理。此属性必须是字符串数组</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.latex.clean.fileTypes&quot;</span><span class="p">:</span><span class="w"> </span>
<span class="w">      </span><span class="p">[</span>
<span class="w">          </span><span class="s2">&quot;*.aux&quot;</span><span class="p">,</span><span class="c1">//包含有关文档交叉引用、标签和参考文献等信息</span>
<span class="w">          </span><span class="s2">&quot;*.bbl&quot;</span><span class="p">,</span><span class="c1">//用于管理文献引用和参考文献列表</span>
<span class="w">          </span><span class="s2">&quot;*.blg&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.idx&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.ind&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.lof&quot;</span><span class="p">,</span><span class="c1">//插图目录</span>
<span class="w">          </span><span class="s2">&quot;*.lot&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.out&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.toc&quot;</span><span class="p">,</span><span class="c1">//目录</span>
<span class="w">          </span><span class="s2">&quot;*.acn&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.acr&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.alg&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.glg&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.glo&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.gls&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.ist&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.fls&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.log&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;*.fdb_latexmk&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">  </span><span class="c1">//设置为onFaild 在构建失败后清除辅助文件</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.latex.autoClean.run&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;onFailed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="c1">// 使用上次的recipe编译组合</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.latex.recipe.default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;lastUsed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="c1">//使用 SumatraPDF 预览编译好的PDF文件</span>
<span class="w">      </span><span class="c1">// 设置VScode内部查看生成的pdf文件</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.view.pdf.viewer&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tab&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="c1">// PDF查看器用于在\ref上的[View on PDF]链接</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.view.pdf.ref.viewer&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.synctex.indicator&quot;</span><span class="p">:</span><span class="s2">&quot;circle&quot;</span><span class="p">,</span><span class="c1">//正向搜索显示</span>
<span class="w">      </span><span class="nt">&quot;latex-workshop.view.pdf.internal.synctex.keybinding&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;double-click&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">//双击反向搜索</span>
<span class="w">      </span><span class="nt">&quot;editor.wordWrap&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;on&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;editor.renderControlCharacters&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;security.workspace.trust.untrustedFiles&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;newWindow&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// </span>
<span class="w">      </span><span class="nt">&quot;files.autoSave&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;afterDelay&quot;</span><span class="p">,</span><span class="c1">// 自动保存</span>
</code></pre></div>
<h3 id="ppt">ppt<a class="headerlink" href="#ppt" title="Permanent link">&para;</a></h3>
<blockquote>
<p>感觉Beamer缺点就是插入图片太麻烦</p>
</blockquote>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/665090820">Beamer——基于LaTeX制作学术PPT - 知乎</a></li>
<li>https://mpetroff.net/files/beamer-theme-matrix/</li>
</ul>
<h2 id="taskflow">taskflow<a class="headerlink" href="#taskflow" title="Permanent link">&para;</a></h2>
<h3 id="introduction">introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h3>
<p><img alt="image-20250225170020363" src="../assets/image-20250225170020363.png" /></p>
<p>Taskflow is faster, more expressive, and easier for drop-in integration than many of existing task programming frameworks in handling complex parallel workloads.</p>
<p><img alt="image-20250225163913221" src="../assets/image-20250225163913221.png" /></p>
<p>Taskflow solves a large-scale machine learning workload up to 29%
faster, 1.5 less memory, and 1.9 higher throughput than the industrial system, oneTBB, on a machine of 40 CPUs and 4 GPUs.</p>
<p>支持运行时间可视化：</p>
<ul>
<li>Taskflow comes with a built-in profiler, <a href="https://taskflow.github.io/tfprof/">Taskflow Profiler</a>, for you to profile and visualize taskflow programs in an easy-to-use web-based interface.</li>
</ul>
<p><img alt="image-20250225174616305" src="../assets/image-20250225174616305.png" /></p>
<ul>
<li>支持并行模块可视化</li>
</ul>
<p><img alt="image-20250225195824525" src="../assets/image-20250225195824525.png" /></p>
<h3 id="project-motivation">Project Motivation<a class="headerlink" href="#project-motivation" title="Permanent link">&para;</a></h3>
<p><a href="https://taskflow.github.io/taskflow/ProjectMotivation.html">Cookbook » Project Motivation | Taskflow QuickStart</a></p>
<h3 id="command">command<a class="headerlink" href="#command" title="Permanent link">&para;</a></h3>
<h4 id="_11">编译<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<p><code>g++ -std=c++20 simple.cpp -I taskflow/ -O2 -pthread -o simple</code></p>
<p><code>nvcc -std=c++17 -I path/to/taskflow/ --extended-lambda simple.cu -o simple</code></p>
<h5 id="_12">编译两个文件<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h5>
<p><code>nvcc -std=c++17 --extended-lambda -x cu -arch=sm_86 -I path/to/taskflow -dc cudaflow.cpp -o cudaflow.o</code> ## now we have the two compiled .o objects, main.o and cudaflow.o</p>
<p><code>nvcc main.o cudaflow.o -o main</code> # link</p>
<ul>
<li>The <code>--extended-lambda</code> option tells <code>nvcc</code> to generate GPU code for the lambda defined with <code>**device**</code>.</li>
<li>The <code>-x cu</code> tells <code>nvcc</code> to treat the input files as .cu files containing both CPU and GPU code. By default, <code>nvcc</code> treats .cpp files as CPU-only code. </li>
</ul>
<h3 id="module">module<a class="headerlink" href="#module" title="Permanent link">&para;</a></h3>
<h4 id="taskflow_1">Taskflow<a class="headerlink" href="#taskflow_1" title="Permanent link">&para;</a></h4>
<p><code>taskflow.emplace([](){})</code>  //add task</p>
<p><code>taskflow.num_task()</code>   </p>
<p><code>taskflow.placeholder()</code>// create a <code>task</code> with no work</p>
<h5 id="trick">trick<a class="headerlink" href="#trick" title="Permanent link">&para;</a></h5>
<h6 id="stdmove">std::move()<a class="headerlink" href="#stdmove" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">::</span><span class="n">Taskflow</span><span class="w"> </span><span class="n">taskflow1</span><span class="p">,</span><span class="w"> </span><span class="n">taskflow3</span><span class="p">;</span>

<span class="n">taskflow1</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){});</span>

<span class="c1">// move-construct taskflow2 from taskflow1</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Taskflow</span><span class="w"> </span><span class="nf">taskflow2</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">taskflow1</span><span class="p">));</span>
<span class="n">assert</span><span class="p">(</span><span class="n">taskflow2</span><span class="p">.</span><span class="n">num_tasks</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">taskflow1</span><span class="p">.</span><span class="n">num_tasks</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>

<span class="c1">// move-assign taskflow3 to taskflow2</span>
<span class="n">taskflow3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">taskflow2</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">taskflow3</span><span class="p">.</span><span class="n">num_tasks</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">taskflow2</span><span class="p">.</span><span class="n">num_tasks</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</code></pre></div>
<p><code>taskflow.composed_of(other_taskflow)</code></p>
<h4 id="task">Task<a class="headerlink" href="#task" title="Permanent link">&para;</a></h4>
<p><code>task.name("")</code> //set name</p>
<p><code>task.work([](){})</code> //set work</p>
<p><code>task.data()</code>   //set or get  task's data</p>
<p><code>task.precede(other task)</code>  //set pretask</p>
<p><code>task.num_dependents()</code> //get dependents num</p>
<p><code>task.num_successors()</code>     //get sucessors num</p>
<div class="highlight"><pre><span></span><code><span class="c1">// traverse all successors of my_task</span>
<span class="n">my_task</span><span class="p">.</span><span class="n">for_each_successor</span><span class="p">([</span><span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">successor</span><span class="p">)</span><span class="w"> </span><span class="k">mutable</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;successor &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">s</span><span class="o">++</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// traverse all dependents of my_task</span>
<span class="n">my_task</span><span class="p">.</span><span class="n">for_each_dependent</span><span class="p">([</span><span class="n">d</span><span class="o">=</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">dependent</span><span class="p">)</span><span class="w"> </span><span class="k">mutable</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;dependent &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">d</span><span class="o">++</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<h5 id="condition-task">condition task<a class="headerlink" href="#condition-task" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">::</span><span class="n">Taskflow</span><span class="w"> </span><span class="n">taskflow</span><span class="p">;</span>

<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;B&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;D&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;E&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;F&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;G&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;H&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;I&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;K&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;L&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;M&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">cond_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">rand</span><span class="p">()</span><span class="o">%</span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="p">}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;cond_1&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">cond_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">rand</span><span class="p">()</span><span class="o">%</span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="p">}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;cond_2&quot;</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="n">cond_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">rand</span><span class="p">()</span><span class="o">%</span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="p">}).</span><span class="n">name</span><span class="p">(</span><span class="s">&quot;cond_3&quot;</span><span class="p">);</span>

<span class="n">A</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="n">F</span><span class="p">);</span>
<span class="n">B</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">C</span><span class="p">);</span>
<span class="n">C</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">D</span><span class="p">);</span>
<span class="n">D</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">cond_1</span><span class="p">);</span>
<span class="n">E</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">K</span><span class="p">);</span>
<span class="n">F</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">cond_2</span><span class="p">);</span>
<span class="n">H</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">I</span><span class="p">);</span>
<span class="n">I</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">cond_3</span><span class="p">);</span>
<span class="n">L</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">M</span><span class="p">);</span>

<span class="n">cond_1</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="n">E</span><span class="p">);</span><span class="w">       </span><span class="c1">// return 0 to &#39;B&#39; or 1 to &#39;E&#39;</span>
<span class="n">cond_2</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="p">);</span><span class="w">       </span><span class="c1">// return 0 to &#39;G&#39; or 1 to &#39;H&#39;</span>
<span class="n">cond_3</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">cond_3</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p">);</span><span class="w">  </span><span class="c1">// return 0 to &#39;cond_3&#39; or 1 to &#39;L&#39;</span>

<span class="n">taskflow</span><span class="p">.</span><span class="n">dump</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">);</span>
</code></pre></div>
<p><img alt="image-20250226201031752" src="../assets/image-20250226201031752.png" /></p>
<p><code>cond</code> 不止支持true和false，也可有3个以上的输出情况，相当于switch, 当然也可以设计成while</p>
<h5 id="asynctask">AsyncTask<a class="headerlink" href="#asynctask" title="Permanent link">&para;</a></h5>
<p><img alt="image-20250226204953475" src="../assets/image-20250226204953475.png" /></p>
<h4 id="executor">Executor<a class="headerlink" href="#executor" title="Permanent link">&para;</a></h4>
<p><code>executor.this_worker_id()</code></p>
<div class="highlight"><pre><span></span><code><span class="cp">#### create excutor</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Executor</span><span class="w"> </span><span class="n">executor1</span><span class="p">;</span><span class="w">     </span><span class="c1">// create an executor with the number of workers</span>
<span class="w">                            </span><span class="c1">// equal to std::thread::hardware_concurrency, 106 server has 256 thread(当前硬件支持的并发线程数量)</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Executor</span><span class="w"> </span><span class="nf">executor2</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">  </span><span class="c1">// create an executor of 4 worker threads</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">::</span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">executor</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">taskflow</span><span class="p">);</span><span class="w"> </span><span class="c1">//Each run variant of tf::Executor returns a tf::Future object which allows you to wait </span>
<span class="n">fu</span><span class="p">.</span><span class="n">wait</span><span class="p">();</span><span class="c1">//run the taskflow once and wait for completion</span>


<span class="n">executor</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">taskflow</span><span class="p">,</span><span class="w"> </span><span class="p">[](){</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;end of 1 run&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}).</span><span class="n">wait</span><span class="p">();</span><span class="w"> </span><span class="c1">//runs the taskflow once with a callback to invoke when the execution finishes</span>

<span class="n">executor</span><span class="p">.</span><span class="n">run_n</span><span class="p">(</span><span class="n">taskflow</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w"> </span>
<span class="n">executor</span><span class="p">.</span><span class="n">wait_for_all</span><span class="p">();</span><span class="w">  </span><span class="c1">//run the taskflow four times and use tf::Executor::wait_for_all to wait for completion</span>

<span class="n">executor</span><span class="p">.</span><span class="n">run_n</span><span class="p">(</span><span class="n">taskflow</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="p">[](){</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;end of 4 runs&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}).</span><span class="n">wait</span><span class="p">();</span><span class="w">  </span><span class="c1">//runs the taskflow four times and invokes a callback at the end of the fourth execution</span>
<span class="n">executor</span><span class="p">.</span><span class="n">run_until</span><span class="p">(</span><span class="n">taskflow</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">cnt</span><span class="o">=</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="k">mutable</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">++</span><span class="n">cnt</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="p">});</span><span class="w">   </span><span class="c1">// keeps running the taskflow until the predicate returns true</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">//corun:</span>
<span class="c1">///deadlock:在 C++ 多线程编程中，死锁（Deadlock） 是最危险的并发问题之一，指两个或多个线程因互相等待对方释放资源而永久阻塞</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Executor</span><span class="w"> </span><span class="nf">executor</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Taskflow</span><span class="w"> </span><span class="n">taskflow</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">tf</span><span class="o">::</span><span class="n">Taskflow</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="o">&gt;</span><span class="w"> </span><span class="n">others</span><span class="p">;</span>

<span class="n">std</span><span class="o">::</span><span class="n">atomic</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">counter</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>

<span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="o">&lt;</span><span class="mi">1000</span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="mi">500</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">others</span><span class="p">[</span><span class="n">n</span><span class="p">].</span><span class="n">emplace</span><span class="p">([</span><span class="o">&amp;</span><span class="p">](){</span><span class="w"> </span><span class="n">counter</span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([</span><span class="o">&amp;</span><span class="n">executor</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tf</span><span class="o">=</span><span class="n">others</span><span class="p">[</span><span class="n">n</span><span class="p">]](){</span>
<span class="w">    </span><span class="c1">// blocking the worker can introduce deadlock where</span>
<span class="w">    </span><span class="c1">// all workers are waiting for their taskflows to finish</span>
<span class="w">    </span><span class="n">executor</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">tf</span><span class="p">).</span><span class="n">wait</span><span class="p">();</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
<span class="n">executor</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">taskflow</span><span class="p">).</span><span class="n">wait</span><span class="p">();</span>

<span class="c1">//-------------------------------------------------------------------</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Executor</span><span class="w"> </span><span class="nf">executor</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Taskflow</span><span class="w"> </span><span class="n">taskflow</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">tf</span><span class="o">::</span><span class="n">Taskflow</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="o">&gt;</span><span class="w"> </span><span class="n">others</span><span class="p">;</span>

<span class="n">std</span><span class="o">::</span><span class="n">atomic</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">counter</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>

<span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="o">&lt;</span><span class="mi">1000</span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="mi">500</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">others</span><span class="p">[</span><span class="n">n</span><span class="p">].</span><span class="n">emplace</span><span class="p">([</span><span class="o">&amp;</span><span class="p">](){</span><span class="w"> </span><span class="n">counter</span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([</span><span class="o">&amp;</span><span class="n">executor</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tf</span><span class="o">=</span><span class="n">others</span><span class="p">[</span><span class="n">n</span><span class="p">]](){</span>
<span class="w">    </span><span class="c1">// the caller worker will not block but corun these</span>
<span class="w">    </span><span class="c1">// taskflows through its work-stealing loop</span>
<span class="w">    </span><span class="n">executor</span><span class="p">.</span><span class="n">corun</span><span class="p">(</span><span class="n">tf</span><span class="p">);</span><span class="w"> </span><span class="c1">//注意这里没有.wait</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
<span class="n">executor</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">taskflow</span><span class="p">).</span><span class="n">wait</span><span class="p">();</span>
</code></pre></div>
<p><code>executor.corun_until()</code></p>
<p><code>observer</code>https://taskflow.github.io/taskflow/ExecuteTaskflow.html#ObserveThreadActivities</p>
<p><code>tf::WorkerInterface</code>可以将一个worker映射到一个特定的CPU内核https://taskflow.github.io/taskflow/ExecuteTaskflow.html#ModifyWorkerProperty</p>
<p>异步任务：<a href="https://taskflow.github.io/taskflow/AsyncTasking.html">Cookbook » Asynchronous Tasking | Taskflow QuickStart</a></p>
<p>Taskflow库中的异步任务机制允许在任务执行过程中动态生成并行任务，提供了灵活的任务管理和同步方式。以下是详细解释：</p>
<ul>
<li><code>executor.async(F&amp;&amp; f)</code>：启动异步任务，返回 <code>std::future</code> 以获取结果。</li>
<li><code>executor.silent_async(F&amp;&amp; f)</code>：启动异步任务，无返回值，开销更小。</li>
</ul>
<h4 id="future">Future<a class="headerlink" href="#future" title="Permanent link">&para;</a></h4>
<p><code>future.get()</code></p>
<p><code>future.cancel()</code></p>
<h4 id="cudaflow">cudaFlow<a class="headerlink" href="#cudaflow" title="Permanent link">&para;</a></h4>
<ul>
<li><code>cudaflow.kernel(grid_dim, block_dim, Ns, kernel_function, N, other_args)</code>//&lt;&lt;&lt;(N+255)/256, 256, 0&gt;&gt;&gt;(N, 2.0f, dx, dy)</li>
<li><code>cudaflow.run(stream)</code></li>
<li><code>cudaflow.copy(src, dst, N)</code></li>
<li><code>cudaflow.memset(target, 0, sizeof(int) * count)</code></li>
<li><code>cudaflow.fill(target, 0, count)</code></li>
<li><code>cudaflow.zero(target, count)</code></li>
</ul>
<h5 id="integrate-a-cudaflow-into-taskflow"><a href="https://taskflow.github.io/taskflow/GPUTaskingcudaFlow.html#IntegrateCudaFlowIntoTaskflow">Integrate a cudaFlow into Taskflow</a><a class="headerlink" href="#integrate-a-cudaflow-into-taskflow" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">::</span><span class="n">Executor</span><span class="w"> </span><span class="n">executor</span><span class="p">;</span>
<span class="n">tf</span><span class="o">::</span><span class="n">Taskflow</span><span class="w"> </span><span class="n">taskflow</span><span class="p">;</span>

<span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">([](){</span>
<span class="w">  </span><span class="c1">// create a cudaFlow inside a static task</span>
<span class="w">  </span><span class="n">tf</span><span class="o">::</span><span class="n">cudaFlow</span><span class="w"> </span><span class="n">cudaflow</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// ... create a kernel task</span>
<span class="w">  </span><span class="n">cudaflow</span><span class="p">.</span><span class="n">kernel</span><span class="p">(...);</span>

<span class="w">  </span><span class="c1">// run the capturer through a stream</span>
<span class="w">  </span><span class="n">tf</span><span class="o">::</span><span class="n">cudaStream</span><span class="w"> </span><span class="n">stream</span><span class="p">;</span>
<span class="w">  </span><span class="n">capturer</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">stream</span><span class="p">);</span>
<span class="w">  </span><span class="n">stream</span><span class="p">.</span><span class="n">synchronize</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<h4 id="cudastream">cudaStream<a class="headerlink" href="#cudastream" title="Permanent link">&para;</a></h4>
<p><code>cudastream.synchronize()</code></p>
<h5 id="run-a-cudaflow-on-specific-gpu"><a href="https://taskflow.github.io/taskflow/GPUTaskingcudaFlow.html#run_a_cudaflow_on_a_specific_gpu">Run a cudaFlow on Specific GPU</a><a class="headerlink" href="#run-a-cudaflow-on-specific-gpu" title="Permanent link">&para;</a></h5>
<h4 id="subflow">Subflow<a class="headerlink" href="#subflow" title="Permanent link">&para;</a></h4>
<p>没看懂有什么用</p>
<h4 id="runtime">Runtime<a class="headerlink" href="#runtime" title="Permanent link">&para;</a></h4>
<p><code>runtime.schedule(task)</code>    //forcefully run task</p>
<p><code>runtime.corun(taskflow)</code>   //还是不太懂https://taskflow.github.io/taskflow/RuntimeTasking.html#RuntimeTaskingRunATaskGraphSynchronously</p>
<p>Taskflow allows a static task and a condition task to take a referenced <a href="https://taskflow.github.io/taskflow/classtf_1_1Runtime.html">tf::Runtime</a> object that provides a set of methods to interact with the scheduling runtime. The following example creates a static task that leverages <a href="https://taskflow.github.io/taskflow/classtf_1_1Runtime.html">tf::Runtime</a> to explicitly schedule a conditioned task which would never run under the normal scheduling circumstance:</p>
<div class="highlight"><pre><span></span><code>tf::Task A, B, C, D;
std::tie(A, B, C, D) = taskflow.emplace(
  [] () { return 0; },
  [&amp;C] (tf::Runtime&amp; rt) {  // C must be captured by reference
    std::cout &lt;&lt; &quot;B\n&quot;; 
    rt.schedule(C);
  },
  [] () { std::cout &lt;&lt; &quot;C\n&quot;; },
  [] () { std::cout &lt;&lt; &quot;D\n&quot;; }
);
A.precede(B, C, D);
executor.run(taskflow).wait();
</code></pre></div>
<p><img alt="image-20250226205728815" src="../assets/image-20250226205728815.png" /></p>
<p>When the condition task <code>A</code> completes and returns <code>0</code>, the scheduler moves on to task <code>B</code>. Under the normal circumstance, tasks <code>C</code> and <code>D</code> will not run because their conditional dependencies never happen. This can be broken by forcefully scheduling <code>C</code> or/and <code>D</code> via a runtime object of a task that resides in the same graph. Here, task <code>B</code> call <a href="https://taskflow.github.io/taskflow/classtf_1_1Runtime.html#aa7e72cc0f298475195b252c8f1793343">tf::Runtime::schedule</a> to forcefully run task <code>C</code> even though the weak dependency between <code>A</code> and <code>C</code> will never happen based on the graph structure itself. As a result, we will see both <code>B</code> and <code>C</code> in the output:</p>
<h4 id="semaphore">Semaphore<a class="headerlink" href="#semaphore" title="Permanent link">&para;</a></h4>
<p>limit the concurrency or the maximum number of workers in your Taskflow applications.https://taskflow.github.io/taskflow/LimitTheMaximumConcurrency.html#DefineASemaphore</p>
<h3 id="install_2">install<a class="headerlink" href="#install_2" title="Permanent link">&para;</a></h3>
<p>Taskflow is <em>header-only</em> and there is no wrangle with installation. To compile the program, clone the Taskflow project and tell the compiler to include the headers under <code>taskflow/</code>.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;taskflow/taskflow.hpp&gt;</span><span class="c1">  // Taskflow is header-only</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>

<span class="w">  </span><span class="n">tf</span><span class="o">::</span><span class="n">Executor</span><span class="w"> </span><span class="n">executor</span><span class="p">;</span>
<span class="w">  </span><span class="n">tf</span><span class="o">::</span><span class="n">Taskflow</span><span class="w"> </span><span class="n">taskflow</span><span class="p">;</span>

<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">taskflow</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="w">  </span><span class="c1">// create four tasks</span>
<span class="w">    </span><span class="p">[]</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;TaskA</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">[]</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;TaskB</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">[]</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;TaskC</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">[]</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;TaskD</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span>
<span class="w">  </span><span class="p">);</span><span class="w">                                  </span>

<span class="w">  </span><span class="n">A</span><span class="p">.</span><span class="n">precede</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="p">);</span><span class="w">  </span><span class="c1">// A runs before B and C</span>
<span class="w">  </span><span class="n">D</span><span class="p">.</span><span class="n">succeed</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="p">);</span><span class="w">  </span><span class="c1">// D runs after  B and C</span>

<span class="w">  </span><span class="n">executor</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">taskflow</span><span class="p">).</span><span class="n">wait</span><span class="p">();</span><span class="w"> </span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>~$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/taskflow/taskflow.git<span class="w">  </span><span class="c1"># clone it only once</span>
~$<span class="w"> </span>g++<span class="w"> </span>-std<span class="o">=</span>c++20<span class="w"> </span>simple.cpp<span class="w"> </span>-I<span class="w"> </span>taskflow/<span class="w"> </span>-O2<span class="w"> </span>-pthread<span class="w"> </span>-o<span class="w"> </span>simple
~$<span class="w"> </span>./simple
TaskA
TaskC<span class="w"> </span>
TaskB<span class="w"> </span>
TaskD
</code></pre></div>
<p>可以把git clone 下的taskflow_master/taskflow 放到<code>{workspace}/include/</code>下，这样编译的时候用 <code>-I ./include</code> 就行</p>
<h3 id="_13">参考<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<ol>
<li><a href="https://taskflow.github.io/taskflow/pages.html">Taskflow QuickStart</a></li>
<li><a href="https://taskflow.github.io/">Taskflow: A General-purpose Task-parallel Programming System</a></li>
<li><a href="https://taskflow.github.io/taskflow/index.html">Modern C++ Parallel Task Programming | Taskflow QuickStart</a></li>
</ol>
<h2 id="_14">代理<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h2>
<p><a href="https://blog.csdn.net/qq_39316962/article/details/139927197">windows11 搭建 WSL2 运行环境（2024）-CSDN 博客</a></p>
<h2 id="hugomkdoc">Hugo/mkdoc<a class="headerlink" href="#hugomkdoc" title="Permanent link">&para;</a></h2>
<blockquote>
<p>hugo 有点麻烦，mkdoc简单点</p>
</blockquote>
<h4 id="_15">参考<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h4>
<p><a href="https://krislinzhao.github.io/docs/create-a-wesite-using-github-pages-and-hugo/#9-reference">如何用 GitHub Pages + Hugo 搭建个人博客 · KrislinBlog</a></p>
<h2 id="jira">Jira<a class="headerlink" href="#jira" title="Permanent link">&para;</a></h2>
<p>软件产品管理</p>
<p><a href="https://cloud.italent.cn/PageHome/Index?product=Learning&amp;keyName=Nusion&amp;pageCode=LearningPlanDetailPage&amp;appCode=Learning&amp;id=e88cc4a6-2dc1-4df0-b284-40890ad35dfb&amp;_qsrcapp=Learning&amp;_qrt=html&amp;quark_s=92885ba2bcb8c01354166887f7d1ce2dd3555ef5a4e3a3754f9b5e18dcf584c1#/viewDynamic?t=t&amp;quark_s=bd841178dfbc1b9adb121eeadd71bfd241cc74cd78cfa6e159950402224c9010">公司教程</a></p>
<p><img alt="image-20251009155559160" src="D:\My2025\MyNotes\Other\assets\image-20251009155559160.png" /></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Program/" class="btn btn-neutral float-left" title="Program"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Literature/" class="btn btn-neutral float-right" title="Good Things">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Program/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Literature/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
